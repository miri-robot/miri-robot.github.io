(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{9390:function(e,t,a){Promise.resolve().then(a.bind(a,368))},368:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(7437),s=a(2265),r=a(7907),l=a(8792),i=a(425),c=a(5951),x=a(5431),o=a(9797);function d(e){let{lng:t}=e,{t:a}=(0,i.$)(t),r=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:a("divination.meditation.initMessageMoonBlock")}),(0,n.jsx)("p",{children:a("divination.meditation.noteMessageMoonBlock")})]}),o=(0,n.jsx)(s.Fragment,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(l.default,{href:"/".concat(t,"/poe/prediction"),children:(0,n.jsx)(c.Uv,{title:a("divination.buttons.throw")})})})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"pt-48 px-8",children:(0,n.jsx)("div",{className:"border-2 moon-block-cloth p-4",children:(0,n.jsxs)("div",{className:"h-48 md:h-56 flex justify-center border-2 moon-block-inner-cloth p-2 gap-8",children:[(0,n.jsx)("div",{className:"grid place-items-center",children:(0,n.jsx)("img",{className:"h-32 rotate-[24deg]",src:"/static/poe-cover.png",alt:"poe cover side"})}),(0,n.jsx)("div",{className:"grid place-items-center",children:(0,n.jsx)("img",{className:"h-32 rotate-[24deg]",src:"/static/poe-up.png",alt:"poe up side"})})]})})}),(0,n.jsx)(x.m,{message:r,buttons:o,settings:"poe"})]})}function p(e){let{lng:t,method:a,selectedStyle:l}=e,{t:d}=(0,i.$)(t),p=(0,r.useRouter)(),u=(0,r.useSearchParams)(),m=u.get("spread"),h=u.get("num"),[z,j]=(0,s.useState)(null),v=(0,s.useRef)(""),f=l.overlayStyle,g=l.cardStyle;(0,s.useEffect)(()=>((0,c.p3)(a,u,j,v,d),v.current&&setTimeout(()=>{p.push("/".concat(t,"/").concat(a,"/introduction"))},5e3),setTimeout(()=>{U()},1e3),document.addEventListener("click",R),()=>{document.removeEventListener("click",R)}),[]);let N=d("divination.meditation.initMessage"),b=(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)("p",{children:d("divination.meditation.checkMessage")}),(0,n.jsx)("div",{className:"flex justify-center pt-4",children:(0,n.jsx)(c.Uv,{func:()=>{$(),setTimeout(()=>{p.push("/".concat(t,"/").concat(a,"/draw/")+"?spread="+m+"&num="+h)},4e3)},title:d("divination.buttons.sure")})})]}),[w,k]=(0,s.useState)(null),[y,S]=(0,s.useState)(N),M=(0,s.useRef)(null),E=(0,s.useRef)(null),F=(0,s.useRef)(0),_=e=>{null==w?(F.current=e,k(e),S(b)):w===e?(k(null),S(N)):(F.current=e,k(e),S(b))},R=e=>{M.current&&!M.current.contains(e.target)&&(E.current&&E.current.contains(e.target)||(F.current=null,k(null),S(N)))},[T,B]=(0,s.useState)(!1),[C,P]=(0,s.useState)([]),[L,O]=(0,s.useState)([]),U=()=>{B(!T)},$=()=>{let e=F.current,t=Array.from({length:21-e+1},(t,a)=>e+a);P(e=>[...e,...t]),O(e=>[...e,...t]),setTimeout(()=>{B(!1),setTimeout(()=>{P([])},1e3)},1e3)},A=(0,o.r1)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"pt-24 px-8",children:[z&&(0,n.jsx)(c._P,{errorMessage:v.current}),(0,n.jsxs)("div",{ref:M,className:"relative",children:[[[21,"translate-x-[216px]","translate-x-[216px]","z-[70]","z-[21]"],[20,"translate-x-[200px]","translate-x-[212px]","z-[69]","z-[20]"],[19,"translate-x-[184px]","translate-x-[208px]","z-[68]","z-[19]"],[18,"translate-x-[168px]","translate-x-[204px]","z-[67]","z-[18]"],[17,"translate-x-[156px]","translate-x-[200px]","z-[66]","z-[17]"],[16,"translate-x-[144px]","translate-x-[196px]","z-[65]","z-[16]"],[15,"translate-x-[132px]","translate-x-[192px]","z-[64]","z-[15]"],[14,"translate-x-[120px]","translate-x-[188px]","z-[63]","z-[14]"],[13,"translate-x-[108px]","translate-x-[184px]","z-[62]","z-[13]"],[12,"translate-x-[96px]","translate-x-[184px]","z-[61]","z-[12]"],[11,"translate-x-[88px]","translate-x-[184px]","z-[60]","z-[11]"],[10,"translate-x-[80px]","translate-x-[184px]","z-[59]","z-[10]"],[9,"translate-x-[72px]","translate-x-[184px]","z-[58]","z-[9]"],[8,"translate-x-[64px]","translate-x-[184px]","z-[57]","z-[8]"],[7,"translate-x-14","translate-x-[184px]","z-[56]","z-[7]"],[6,"translate-x-12","translate-x-[184px]","z-[55]","z-[6]"],[5,"translate-x-10","translate-x-[184px]","z-[54]","z-[5]"],[4,"translate-x-8","translate-x-[184px]","z-[53]","z-[4]"],[3,"translate-x-6","translate-x-[184px]","z-[52]","z-[3]"],[2,"translate-x-4","translate-x-[184px]","z-[51]","z-[2]"],[1,"translate-x-2","translate-x-[184px]","z-[50]","z-[1]"],[0,"","translate-x-[184px]","z-[49]","z-[0]"]].map((e,t)=>(0,n.jsxs)("div",{onClick:()=>_(e[0]),className:"transition-transform delay-300 ease-linear duration-500 will-change-transform drop-shadow-md absolute left-4 ".concat(T&&e[1]," top-0 ").concat(L.includes(e[0])?e[4]:e[3]," ").concat(C.includes(e[0])&&e[2]),children:[w===e[0]&&(0,n.jsx)("div",{className:"overlay",style:f}),g]},'"div'.concat(t,'"'))),A.map((e,t)=>(0,n.jsx)("div",{className:"drop-shadow-md",style:e,children:g},'"div-fixed-'.concat(t,'"')))]})]}),(0,n.jsx)("div",{ref:E,children:!z&&(0,n.jsx)(x.m,{message:y,buttons:null,needMsgHideEffect:!1})})]})}function u(e){let{params:{lng:t,method:a}}=e,s=c.bB[a]||c.bB.default;return"poe"===a?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"wallpaper down-wallpaper-color divination-animation",children:[(0,n.jsx)(c.h4,{lng:t}),(0,n.jsx)(d,{lng:t})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"wallpaper down-wallpaper-color divination-animation",children:[(0,n.jsx)(c.h4,{lng:t}),(0,n.jsx)(p,{lng:t,method:a,selectedStyle:s})]})})}}},function(e){e.O(0,[676,143,267,215,971,69,744],function(){return e(e.s=9390)}),_N_E=e.O()}]);