(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{8637:function(e,r,t){var n={"./en/translation.json":[9272,649],"./tw/translation.json":[4589,589]};function a(e){if(!t.o(n,e))return Promise.resolve().then(function(){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=n[e],a=r[0];return t.e(r[1]).then(function(){return t.t(a,19)})}a.keys=function(){return Object.keys(n)},a.id=8637,e.exports=a},9797:function(e,r,t){"use strict";t.d(r,{he:function(){return l},r1:function(){return s},s0:function(){return o}});let n=(e,r)=>Math.floor(Math.random()*(r-e+1)+e),a=e=>({0:["0.875rem",8],1:["0.75rem",7],2:["0.625rem",6],3:["0.5rem",5],4:["0.375rem",4],5:["0.25rem",3],6:["0.125rem",2],7:["0px",1]})[e]||["1rem",10],o=e=>{let{count:r,isSpread:t}=e;return Array.from({length:r},(e,r)=>({position:"absolute",left:a(r)[0],top:"0px",zIndex:a(r)[1],...t&&{transform:"translate(".concat(n(100,200),"px, ").concat(n(100,200),"px) rotate(").concat(n(100,360),"deg)")},...t&&{zIndex:n(0,50)}}))},s=()=>{let e=[["16px",39],["14px",38],["12px",37],["10px",36],["8px",35],["6px",34],["4px",33],["2px",32],["0px",31]];return Array.from({length:9},(r,t)=>({position:"absolute",left:e[t][0],top:"0px",zIndex:e[t][1]}))},i=e=>({0:[-13,"12px"],1:[-11,"8px"],2:[-8,"8px"],3:[-6,"4px"],4:[-4,"0px"],5:[-3,"0px"],31:[13,"12px"],30:[11,"8px"],29:[8,"8px"],28:[6,"4px"],27:[4,"0px"],26:[3,"0px"]})[e]||[0,"0px"],c=e=>({0:[-13,"12px","0px"],1:[-13,"8px","2px"],2:[-13,"8px","2px"],3:[-11,"4px","4px"],4:[-11,"0px","4px"],5:[-11,"0px","6px"]})[e]||[-9,"0px","8px"],l=e=>{let{isSpread:r}=e;return Array.from({length:32},(e,t)=>({position:"absolute",left:c(t)[2],top:c(t)[1],transform:"rotate(".concat(c(t)[0],"deg)"),...r&&{top:i(t)[1],left:"0%"},...r&&{transform:"translateX(".concat(8*t,"px) rotate(").concat(i(t)[0],"deg)")},zIndex:t+1}))}},5951:function(e,r,t){"use strict";t.d(r,{FN:function(){return f},Uv:function(){return u},_P:function(){return m},bB:function(){return d},h2:function(){return l},h4:function(){return c},p3:function(){return v},rQ:function(){return x}});var n=t(7437),a=t(8792),o=t(8024),s=t(7535),i=t(678);function c(e){let{lng:r}=e,t=()=>{localStorage.removeItem(i.F1)};return(0,n.jsx)("div",{className:"".concat(i.Tl," mx-auto h-14 border divination-navbar fixed inset-x-0 top-0"),children:(0,n.jsx)(a.default,{href:"/".concat(r,"/"),children:(0,n.jsx)("div",{className:"h-14 w-14",onClick:()=>t(),children:(0,n.jsx)("div",{className:"pl-4 pt-4",children:(0,n.jsx)(o.G,{icon:s.EyR,size:"xl",style:{color:"#e9d69d"}})})})})})}function l(){return(0,n.jsxs)("div",{className:"loadWrap",children:[(0,n.jsx)("div",{className:"loading first-squre"}),(0,n.jsx)("div",{className:"loading second-squre"}),(0,n.jsx)("div",{className:"loading third-squre"})]})}let d={runes:{overlayStyle:{borderRadius:"20px",background:"rgba(255, 255, 255)"},spreadsOverlayStyle:{background:"rgba(255, 255, 255)"},spreadsBorderColor:{borderColor:"rgba(255, 255, 255)"},spreadsWordColor:{color:"rgba(255, 255, 255)"},cardStyle:(0,n.jsx)(function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-[108px] w-16 rounded-[20px] grid place-items-center border-2 divination-rune-card pt-1",children:(0,n.jsx)("div",{className:"",children:(0,n.jsx)("img",{src:"/static/rune.svg",alt:"Rune card cover side"})})})})},{}),cardSvg:"/static/rune.svg"},default:{overlayStyle:{borderRadius:"5px",background:"rgba(234, 203, 132)"},spreadsOverlayStyle:{background:"rgba(234, 203, 132)"},spreadsBorderColor:{borderColor:"#EACB84"},spreadsWordColor:{color:"#F8D781"},cardStyle:(0,n.jsx)(function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"h-[108px] w-16 rounded-[5px] border-2 divination-card pt-1",children:(0,n.jsx)("div",{children:(0,n.jsx)("img",{src:"/static/tarot-card.svg",alt:"Tarot card cover side"})})})})},{}),cardSvg:"/static/tarot-card.svg"}};function u(e){let{func:r,title:t}=e;return(0,n.jsx)("button",{className:"border rounded-[10px] circle-button hover:-translate-x-0.5 hover:translate-y-0.5 cursor-pointer",onClick:r,children:(0,n.jsx)("div",{className:"border rounded-[10px] circle-inner-button",children:(0,n.jsx)("p",{className:"px-2",children:t})})})}let x=async e=>{try{let r=await fetch(i.Jk+"/api/v2/web/divination",{method:"POST",body:JSON.stringify(e)});if(!r.ok)throw Error("Network response was not ok");return await r.json()}catch(e){throw console.error("Error calling API:",e),e}},h={runes:[["1","1"],["2","3"]],tarot:[["1","1"],["2","3"],["3","5"]],lenormand:[["1","1"],["2","2"]],default:["1","2"]};function m(e){let{errorMessage:r}=e;return(0,n.jsx)("div",{className:"w-full bg-red-500 rounded-lg alarm-div mb-3",children:(0,n.jsx)("div",{className:"text-white text-center font-bold text-lg py-3 px-2",children:r})})}let p={runes:["1","3"],tarot:["1","3","5"],lenormand:["1","2"],whispers:["1","2"],wisdom:["1","2"]},f=(e,r,t,n,a)=>{if(r.has("spread")){let o=r.get("spread");p[e].includes(o)?t(!1):(n.current=a("divination.alarm.invalidParams"),t(!0))}else n.current=a("divination.alarm.lackParams"),t(!0)},v=(e,r,t,n,a)=>{if(["runes","tarot","lenormand"].includes(e)){if(r.has("spread")&&r.has("num")){let o=[r.get("spread"),r.get("num")],s=!1;for(let r of h[e])if(r.every((e,r)=>e===o[r])){s=!0;break}s?t(!1):(n.current=a("divination.alarm.invalidParams"),t(!0))}else n.current=a("divination.alarm.lackParams"),t(!0)}else if(r.has("num")){let e=r.get("num");h.default.includes(e)?t(!1):(n.current=a("divination.alarm.invalidParams"),t(!0))}else n.current=a("divination.alarm.lackParams"),t(!0)}},5431:function(e,r,t){"use strict";t.d(r,{m:function(){return i}});var n=t(7437),a=t(678);let o={introduction:{height:"h-[30rem]",hideHeight:"-bottom-72",moveHeight:"-translate-y-72",chatStyleClass:"h-[8rem]",expandChatClass:"h-[18rem] overflow-y-auto"},default:{height:"h-[32rem]",hideHeight:"-bottom-64",moveHeight:"-translate-y-64",chatStyleClass:"h-[8rem]",expandChatClass:"h-[20rem] overflow-y-auto"},explanation:{height:"h-[36rem]",hideHeight:"-bottom-96",moveHeight:"-translate-y-80",chatStyleClass:"h-[8rem]",expandChatClass:"h-[22rem] overflow-y-auto"},poe:{height:"h-[18rem]",hideHeight:"bottom-0",moveHeight:"",chatStyleClass:"h-[8rem] overflow-y-auto",expandChatClass:"h-[22rem] overflow-y-auto"}};function s(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex border h-16 w-16 divination-miri-style rounded-full",children:[(0,n.jsx)("img",{src:"/static/favicon.jpg",className:"rounded-full"}),(0,n.jsx)("p",{className:"pl-1 pt-12 font-bold",children:"Miri"})]})})}function i(e){let{message:r,buttons:t,hideEffect:i,isExpand:c,settings:l}=e,d=o[l]||o.default;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"".concat(a.Tl," mx-auto ").concat(d.height," p-5 fixed inset-x-0 ").concat(d.hideHeight," z-[100] rounded-t-[20px] border divination-message-section ").concat(i&&c.current?d.moveHeight:""),children:[(0,n.jsx)(s,{}),(0,n.jsx)("div",{className:"mt-4 ".concat(i&&c.current?d.expandChatClass:d.chatStyleClass),children:r}),i&&c.current&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("div",{className:"flex justify-center",children:t})}),t&&!i&&(0,n.jsx)("div",{className:"fixed inset-x-0 bottom-5",children:(0,n.jsx)("div",{className:"flex justify-center",children:t})})]})})}},678:function(e,r,t){"use strict";t.d(r,{$f:function(){return l},F1:function(){return i},Jk:function(){return o},Q2:function(){return n},Tl:function(){return a},tq:function(){return c}});let n="Ver. 2.1.1",a="max-w-screen-sm",o="https://miri-backend.vercel.app",s="MIRI",i="".concat(s,".").concat("client",".userDrawResult"),c="".concat(s,".").concat("sys",".spreadsData"),l={1:"▲",2:"▼",3:"⏹︎"}},425:function(e,r,t){"use strict";t.d(r,{$:function(){return x}});var n=t(1505),a=t(2265),o=t(2635),s=t(4457),i=t(5350),c=t(1520);let l=["en","tw"],d="translation",u="i18next";function x(e,r,t){let[n,i]=(0,s.fP)([u]),c=(0,o.$G)(r,t),{i18n:l}=c;{let[r,t]=(0,a.useState)(l.resolvedLanguage);(0,a.useEffect)(()=>{r!==l.resolvedLanguage&&t(l.resolvedLanguage)},[r,l.resolvedLanguage]),(0,a.useEffect)(()=>{e&&l.resolvedLanguage!==e&&l.changeLanguage(e)},[e,l]),(0,a.useEffect)(()=>{n.i18next!==e&&i(u,e,{path:"/"})},[e,n.i18next])}return c}n.ZP.use(o.Db).use(c.Z).use((0,i.Z)((e,r)=>t(8637)("./".concat(e,"/").concat(r,".json")))).init({...function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return{supportedLngs:l,fallbackLng:"en",lng:e,fallbackNS:d,defaultNS:d,ns:r}}(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:[]})},7907:function(e,r,t){"use strict";var n=t(5313);t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})}}]);